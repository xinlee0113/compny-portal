<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= texts.site.title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- 使用统一导航栏组件 -->
    <%- include('../partials/navbar', { currentPage: 'home', texts: texts }) %>

    <!-- Hero Section - 强调质量与工程 -->
    <section class="automotive-hero">
        <div class="container">
            <div class="row align-items-center min-vh-75">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <span class="badge bg-warning text-dark mb-3 px-3 py-2 fs-6">🚗 <%= (texts.home && texts.home.hero && texts.home.hero.badge) || '专注车载软件工程' %></span>
                        <h1 class="display-3 fw-bold text-white mb-3">
                            <span><%= (texts.home && texts.home.hero && texts.home.hero.title) || '一起打造可靠的车载软件' %></span>
                            <span class="text-automotive-accent"> — <%= (texts.home && texts.home.hero && texts.home.hero.accent) || '以质量与工程为先' %></span>
                        </h1>
                        <p class="lead text-white-80 mb-4 fs-5"><%= (texts.home && texts.home.hero && texts.home.hero.subtitle) || '坚持ASPICE与ISO 26262的工程方法，重视架构设计、编码规范与自动化测试' %></p>
                        <div class="hero-buttons d-flex flex-wrap gap-3">
                            <a href="/services/automotive-development" class="btn btn-automotive-primary btn-lg px-4 py-3">
                                <i class="fas fa-car me-2"></i><%= (texts.home && texts.home.hero && texts.home.hero.primaryCta) || '车载应用方案' %>
                            </a>
                            <a href="/services/testing-validation" class="btn btn-outline-light btn-lg px-4 py-3">
                                <i class="fas fa-shield-alt me-2"></i><%= (texts.home && texts.home.hero && texts.home.hero.secondaryCta) || '质量体系' %>
                            </a>
                        </div>
                        <div class="hero-stats mt-4">
                            <div class="row text-center g-3">
                                <% (texts.home && texts.home.hero && texts.home.hero.stats ? texts.home.hero.stats : [{label:'ASPICE',desc:'流程落地与度量'},{label:'架构',desc:'以架构驱动开发'},{label:'代码',desc:'Clean Code规范'}]).forEach(function(s){ %>
                                  <div class="col-4">
                                    <div class="stat-item">
                                      <h3 class="text-white fw-bold mb-1"><%= s.label %></h3>
                                      <p class="text-white-70 small mb-0"><%= s.desc %></p>
                                    </div>
                                  </div>
                                <% }) %>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-visual text-center">
                        <div class="automotive-dashboard">
                            <div class="dashboard-screen">
                                <div class="screen-content">
                                    <div class="app-icons">
                                        <div class="app-icon"><i class="fas fa-map-marked-alt"></i></div>
                                        <div class="app-icon"><i class="fas fa-music"></i></div>
                                        <div class="app-icon"><i class="fas fa-phone"></i></div>
                                        <div class="app-icon"><i class="fas fa-cog"></i></div>
                                    </div>
                                    <div class="system-info">
                                        <small class="text-muted">Android Automotive OS</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 质量与工程实践 -->
    <section class="py-5 bg-light">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center mb-5">
            <h2 class="h1 fw-bold mb-3"><%= (texts.home && texts.home.quality && texts.home.quality.title) || '质量与工程实践' %></h2>
            <p class="lead text-muted"><%= (texts.home && texts.home.quality && texts.home.quality.subtitle) || '以ASPICE为核心，融合ISO 26262、CI/CD与自动化测试，确保端到端质量' %></p>
          </div>
        </div>
        <div class="row g-4">
          <% ((texts.home && texts.home.quality && texts.home.quality.items) ? texts.home.quality.items : [
            { icon: 'fas fa-project-diagram', title: 'ASPICE流程落地', desc: '需求→架构→实现→验证→发布闭环与度量' },
            { icon: 'fas fa-sitemap', title: '架构设计评审', desc: '以架构为先，设立设计评审与技术决策记录' },
            { icon: 'fas fa-code', title: '编码规范与静态分析', desc: 'ESLint/Prettier/EditorConfig，全量静态检查' },
            { icon: 'fas fa-vial', title: '自动化测试金字塔', desc: '单元/集成/端到端/性能/安全五层测试' },
            { icon: 'fas fa-cogs', title: 'CI/CD与质量门禁', desc: '提交即构建、测试、扫描，质量阈值门禁' },
            { icon: 'fas fa-chart-line', title: '可观测性与度量', desc: '日志/指标/追踪三位一体，质量持续改进' }
          ]).forEach(function(item){ %>
            <div class="col-lg-4 col-md-6">
              <div class="tech-card h-100">
                <div class="tech-icon"><i class="<%= item.icon %>"></i></div>
                <h5><%= item.title %></h5>
                <p class="text-muted"><%= item.desc %></p>
              </div>
            </div>
          <% }) %>
        </div>
      </div>
    </section>

    <!-- 核心技术栈展示 -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="h1 fw-bold mb-3">核心技术栈</h2>
                    <p class="lead text-muted">掌握前沿车载开发技术，为客户提供完整解决方案</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="tech-card h-100">
                        <div class="tech-icon">
                            <i class="fab fa-android text-success"></i>
                        </div>
                        <h5>Android Automotive OS</h5>
                        <p class="text-muted">原生车载系统开发，深度定制智能座舱应用</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="tech-card h-100">
                        <div class="tech-icon">
                            <i class="fas fa-microchip text-primary"></i>
                        </div>
                        <h5>QNX Neutrino</h5>
                        <p class="text-muted">实时操作系统开发，确保车载应用高可靠性</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="tech-card h-100">
                        <div class="tech-icon">
                            <i class="fas fa-network-wired text-warning"></i>
                        </div>
                        <h5>CAN总线集成</h5>
                        <p class="text-muted">车载网络通信协议，实现ECU间数据交换</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="tech-card h-100">
                        <div class="tech-icon">
                            <i class="fab fa-linux text-dark"></i>
                        </div>
                        <h5>Linux嵌入式</h5>
                        <p class="text-muted">深度定制Linux内核，优化车载性能</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 解决方案展示 -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="h1 fw-bold mb-3">智能汽车解决方案</h2>
                    <p class="lead text-muted">从智能座舱到自动驾驶，提供全方位车载解决方案</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <div class="solution-card">
                        <div class="solution-icon">
                            <i class="fas fa-car-side"></i>
                        </div>
                        <h4>智能座舱系统</h4>
                        <p>集成导航、娱乐、通信的一体化座舱解决方案，提升驾乘体验</p>
                        <a href="/services/automotive-development#cockpit" class="btn btn-outline-primary">了解详情</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="solution-card">
                        <div class="solution-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h4>ADAS智能驾驶</h4>
                        <p>高级驾驶辅助系统，包含自适应巡航、车道保持、自动泊车等功能</p>
                        <a href="/services/automotive-development#adas" class="btn btn-outline-primary">了解详情</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="solution-card">
                        <div class="solution-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <h4>车联网T-Box</h4>
                        <p>车载通信终端开发，实现远程监控、OTA升级、紧急救援等服务</p>
                        <a href="/services/automotive-development#tbox" class="btn btn-outline-primary">了解详情</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 客户信任 -->
    <section class="py-5 bg-automotive-dark text-white">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="h1 fw-bold mb-3">值得信赖的合作伙伴</h2>
                    <p class="lead opacity-75">获得国际认证，服务全球知名汽车制造商</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="certification-item">
                        <i class="fas fa-certificate text-warning fs-1 mb-3"></i>
                        <h5>ISO 26262</h5>
                        <p class="opacity-75">功能安全认证</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="certification-item">
                        <i class="fas fa-award text-success fs-1 mb-3"></i>
                        <h5>ASPICE</h5>
                        <p class="opacity-75">汽车软件过程改进</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="certification-item">
                        <i class="fas fa-shield-alt text-info fs-1 mb-3"></i>
                        <h5>ISO 9001</h5>
                        <p class="opacity-75">质量管理体系</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="certification-item">
                        <i class="fas fa-star text-warning fs-1 mb-3"></i>
                        <h5>CMMI L3</h5>
                        <p class="opacity-75">软件能力成熟度</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-5 bg-primary text-white">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h3 class="fw-bold mb-2">准备开始您的智能车载项目？</h3>
                    <p class="mb-0 opacity-90">让我们的专家团队为您提供定制化的车载应用解决方案</p>
                </div>
                <div class="col-lg-4 text-lg-end mt-3 mt-lg-0">
                    <a href="/contact" class="btn btn-light btn-lg px-4 py-3">
                        <i class="fas fa-phone me-2"></i>立即咨询
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 使用统一页脚组件 -->
    <%- include('../partials/footer', { texts: texts }) %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // 确保Bootstrap下拉菜单正常工作
        document.addEventListener('DOMContentLoaded', function() {
            console.log('页面加载完成，初始化下拉菜单...');
            
            // 检查Bootstrap是否正确加载
            if (typeof bootstrap === 'undefined') {
                console.error('Bootstrap JavaScript未加载！');
                return;
            }
            
            console.log('Bootstrap已加载，版本：', bootstrap);
            
            // 手动初始化所有下拉菜单
            const dropdownElements = document.querySelectorAll('[data-bs-toggle="dropdown"]');
            console.log('找到下拉菜单元素数量：', dropdownElements.length);
            
            dropdownElements.forEach((element, index) => {
                try {
                    // 初始化下拉菜单
                    const dropdown = new bootstrap.Dropdown(element);
                    console.log(`下拉菜单 ${index + 1} 初始化成功`);
                    
                    // 添加点击事件监听器用于调试
                    element.addEventListener('click', function(e) {
                        console.log('下拉菜单被点击：', e.target);
                        e.preventDefault(); // 阻止默认链接行为
                        dropdown.toggle(); // 手动切换下拉菜单
                    });
                    
                } catch (error) {
                    console.error(`下拉菜单 ${index + 1} 初始化失败：`, error);
                }
            });
            
            // 添加备用的点击处理
            const systemToolsDropdown = document.getElementById('navbarDropdown');
            if (systemToolsDropdown) {
                systemToolsDropdown.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('系统工具菜单被点击');
                    
                    const dropdownMenu = this.nextElementSibling;
                    if (dropdownMenu && dropdownMenu.classList.contains('dropdown-menu')) {
                        dropdownMenu.classList.toggle('show');
                        console.log('手动切换下拉菜单显示状态');
                    }
                });
            }
        });
    </script>
</body>
</html>

